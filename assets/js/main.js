import e from"https://cdn.skypack.dev/gsap";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=new class{constructor(){this.currentLocale=localStorage.getItem("userLocale")||navigator.language.split("-")[0]||"fr",this.translations={},this.observers=new Set,this.defaultLocale="fr"}async init(){try{this.currentLocale!==this.defaultLocale&&(await this.loadTranslations(this.currentLocale),this.updatePageContent()),this.setupLanguageSwitcher()}catch(e){this.currentLocale=this.defaultLocale}}async loadTranslations(e){try{const t=window.location.pathname.startsWith("/")?window.location.pathname:"/"+window.location.pathname,o=`${t.replace(/\/index\.html$/,"").replace(/\/$/,"")}/locales/${e}.json`,a=await fetch(o,{headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(a.ok)this.translations[e]=await a.json();else{const t=`/locales/${e}.json`,o=await fetch(t);if(!o.ok)throw new Error(`Failed to load translations. Status: ${a.status}`);this.translations[e]=await o.json()}if("object"!=typeof this.translations[e]||null===this.translations[e])throw new Error("Invalid translation file format");return this.currentLocale=e,this.translations[e]}catch(t){throw t}}translate(e,t={}){const o=e.split(".");let a=this.translations[this.currentLocale];for(const r of o)if(a=null==a?void 0:a[r],void 0===a){a=this.getFromDefaultLocale(e);break}return"string"!=typeof a?e:a.replace(/\{\{\s*(\w+)\s*\}\}/g,((e,o)=>void 0!==t[o]?t[o]:`{{${o}}}`))}getFromDefaultLocale(e){const t=e.split(".");let o=this.translations[this.defaultLocale];for(const a of t)if(o=null==o?void 0:o[a],void 0===o)return e;return o}async changeLocale(e){try{this.translations[e]||await this.loadTranslations(e),this.currentLocale=e,localStorage.setItem("userLocale",e),this.updatePageContent(),this.notifyObservers(),document.documentElement.lang=e}catch(t){throw t}}updatePageContent(){document.querySelectorAll("[data-i18n]").forEach((e=>{const t=e.getAttribute("data-i18n");e.textContent=this.translate(t)})),document.querySelectorAll("[data-i18n-placeholder]").forEach((e=>{const t=e.getAttribute("data-i18n-placeholder");e.placeholder=this.translate(t)})),document.querySelectorAll("[data-i18n-aria-label]").forEach((e=>{const t=e.getAttribute("data-i18n-aria-label");e.setAttribute("aria-label",this.translate(t))}))}setupLanguageSwitcher(){const e=document.querySelectorAll("#language-switcher, #language-selector");if(!e.length)return;const t=document.getElementById("language-selector");if(t){if(this.currentLocale){const e=t.options;if(null==e?void 0:e.length){const o=this.currentLocale.toString().toLowerCase(),a=Array.from(e).find((e=>e.value.toLowerCase()===o));a&&(t.value=a.value)}}e.forEach((o=>{t.value&&(o.value=t.value),o.addEventListener("change",(t=>{const o=t.target.value;e.forEach((e=>{e.value=o})),this.changeLocale(o)}))}))}}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}notifyObservers(){this.observers.forEach((e=>{try{e(this.currentLocale)}catch(t){}}))}};document.addEventListener("DOMContentLoaded",(()=>{t.init().catch((e=>{}))}));const{timeline:o}=e,a=document.querySelector(".transformer"),r=document.querySelector(".transformer__middle"),n=.2,s={};e.set(".number--next",{yPercent:-100,opacity:0}),e.set(".slap__line",{transformOrigin:"50% 50%",rotate:e=>45*e-45}),e.set(".slap__line path",{transformOrigin:"50% 50%",yPercent:-350,scaleY:.75}),e.set(".heart__segment",{opacity:0});const i=()=>o({onComplete:()=>{a.removeAttribute("disabled")}}).set(".transformer__feature",{"--hovered":1}).set(".bear-paw",{opacity:1}).set(".transformer__text",{yPercent:80,opacity:0}).add(o({}).set(".transformer__feature",{transition:"none"}).to(".transformer__feature",{keyframes:[{xPercent:-130,ease:"power1.out",duration:.125},{xPercent:20,ease:"power1.in",duration:.125},{xPercent:-20,delay:.1,ease:"power1.out",duration:.15}]}),.25).add(o().to(".paw--right",{keyframes:[{ease:"power1.in",xPercent:-175,yPercent:-125,duration:.25},{ease:"power1.out",delay:.15,duration:.35,xPercent:0,yPercent:0}]}),"<").add(e.timeline({onStart:()=>{s.CLAP.play(),e.set(".slap",{display:"block"})},onComplete:()=>{e.set(".slap",{display:"none"}),e.set(".slap__circle",{clearProps:"all"})}}).set(".slap__circle",{stroke:`hsl(${359*Math.random()}, 85%, 60%)`}).to(".slap__circle",{strokeWidth:0,scale:2.5,duration:.15,transformOrigin:"50% 50%"}).fromTo(".slap__line path",{strokeDashoffset:-11},{yPercent:-400,duration:.15,strokeDashoffset:11},0),">-0.5").add(e.timeline({repeatRefresh:!0,onStart:()=>{e.delayedCall(.25,(()=>s.CHEER.play())),e.set([".wiggle",".dashed__container",".burst"],{display:"block"})},onComplete:()=>{e.set([".wiggle",".dashed__container",".burst"],{display:"none"})}}).set(".celebration-line",{stroke:()=>`hsl(${359*Math.random()}, 100%, 70%)`}).set(".dashed__line",{yPercent:-120}).set(".dashed",{yPercent:0}).set(".burst",{"--rotate":()=>360*Math.random(),"--translate":()=>100*Math.random()+180}).set([".wiggle",".dashed__container"],{rotate:()=>360*Math.random()}).set([".wiggle__line",".dashed"],{yPercent:()=>150*Math.random()+180,scaleY:()=>Math.random()+.5}).fromTo(".dashed__line",{yPercent:-120},{yPercent:120,duration:.5},0).to(".dashed",{yPercent:"random(20, 100)"}).fromTo([".wiggle__line"],{strokeDashoffset:-32},{delay:()=>Math.random(),yPercent:"+=50",duration:.5,strokeDashoffset:32},0).fromTo(".burst__line path",{strokeDashoffset:-32},{delay:()=>.5*Math.random(),yPercent:"-=50",strokeDashoffset:32},0),"<").add(o({}).set(".bear-paw",{opacity:1}).to(document.documentElement,{"--backdrop-opacity":1,duration:n},0).to(document.documentElement,{"--stroke":"hsl(326, 56%, 85%)","--color":"hsl(204, 6%, 16%)",duration:n},0).to(".transformer__segment",{background:"hsl(327, 91%, 96%)",duration:n},0).to(".transformer__heart",{opacity:1,duration:n},0).to(".paw--left",{opacity:0,duration:n},0).to(".transformer__feature",{xPercent:-100,duration:n},0).to(".transformer__outline",{scaleX:.6,duration:n},0).to(".transformer__front",{x:r.offsetWidth/2,duration:n},0).to(".transformer__back",{x:-r.offsetWidth/2,duration:n},0).to(".number.number--current.number--single",{yPercent:100,opacity:0,duration:n},0).to(".number.number--next.number--single",{yPercent:0,duration:n,opacity:1},0).to(".heart__segment",{opacity:1,duration:n},0),"<+0.5").to(".transformer__heart",{scale:1.25,repeat:1,yoyo:!0,ease:"elastic.in"},">-0.2"),l=o({paused:!0,onStart:()=>{s.SIGH.play()},onComplete:()=>{e.set([".transformer__heart",".paw--left",".bear-paw"],{clearProps:"all"})}}).set([".transformer__feature",".transformer__text"],{clearProps:"all"}).to(".transformer__front",{x:0,duration:n}).to(".heart__segment",{opacity:0,duration:n},0).to(".transformer__outline",{scaleX:1,duration:n},0).to(".transformer__segment",{background:"hsl(0, 0%, 100%)",duration:n},0).to(".transformer__back",{x:0,duration:n},0).to(document.documentElement,{"--backdrop-opacity":0,"--stroke":"hsl(180, 3%, 94%)","--color":"hsl(180, 2%, 77%)",duration:n},0).to(".number.number--current.number--single",{yPercent:0,duration:n,opacity:1},0).to(".number.number--next.number--single",{yPercent:-100,duration:n,opacity:0},0).to(".paw--left",{opacity:1,duration:n},0).to(".transformer__heart",{opacity:0,duration:n},0);a.addEventListener("pointerdown",(({x:t,y:o})=>{if(!a.hasAttribute("disabled"))if("true"===a.getAttribute("aria-pressed"))a.setAttribute("aria-pressed",!1),l.restart();else{a.setAttribute("aria-pressed",!0),a.setAttribute("disabled",!0);const r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle"),s=a.getBoundingClientRect();e.set(r,{height:50,width:50,left:t-s.left-25,top:o-s.top-25,overflow:"visible !important",zIndex:12,transformOrigin:"50% 50%",position:"absolute",attr:{viewBox:"0 0 100 100",fill:"none"}}),r.appendChild(n),a.appendChild(r),e.set(n,{attr:{r:30,cx:50,cy:50},stroke:`hsl(${359*Math.random()}, 80%, 50%)`,strokeWidth:20}),e.timeline({onStart:()=>i(),onComplete:()=>r.remove()}).fromTo(n,{scale:0,transformOrigin:"50% 50%"},{scale:1.25,duration:.2}).to(n,{opacity:0,duration:.1},">-0.1")}}));document.addEventListener("pointermove",(({x:t,y:o})=>{const a=e.utils.mapRange(0,window.innerWidth,-5,5,t),r=e.utils.mapRange(0,window.innerHeight,-5,5,o);e.set(document.documentElement,{"--x":a,"--mx":t,"--y":r,"--my":o})})),e.set(".transformer",{display:"block"});const c="https://script.google.com/macros/s/AKfycby_uKUd1Cxan7WBFBfmCPsPsQ58kUmtjzDLHhem2ObkiAuodiecDvLE_K_tfMqliia-/exec";const d=new class{constructor(){this.isInitialized=!1}init(){if(!this.isInitialized)try{this.elements={header:document.getElementById("header-component"),mobileMenu:{button:document.querySelector(".menu-toggle"),nav:document.querySelector("#primary-navigation")},signupForm:document.querySelector("#signup-form"),feedbackSection:{buttons:document.querySelectorAll("[data-feedback]"),form:document.querySelector("#feedback-form")},demoButton:document.querySelector('[data-i18n="hero.cta_secondary"]')},this.state={lastScrollPosition:0,isHeaderVisible:!0,isMobileMenuOpen:!1,hasSubmittedFeedback:!1},this.setupEventListeners(),this.setupIntersectionObserver(),this.setupFormValidation(),this.setupScrollEffects()}catch(e){}finally{this.isInitialized=!0}}setupScrollEffects(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void document.querySelectorAll(".animate-on-scroll").forEach((e=>{e.classList.remove("animate-on-scroll"),e.classList.add("animated")}));let e;document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{var o;const a=e.getAttribute("href");if("#"===a)return;const r=document.querySelector(a);if(r){t.preventDefault();const e=(null==(o=this.elements.header)?void 0:o.offsetHeight)||0,n=r.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:n,behavior:"smooth"}),history.pushState(null,"",a)}}))}));let t=window.pageYOffset,o=Date.now();const a=()=>{const a=window.pageYOffset,r=Date.now();if(r-o>100&&Math.abs(a-t)>50){const e=this.elements.header;e&&(a>t&&a>e.offsetHeight?e.classList.contains("header-hidden")||(e.classList.add("header-hidden"),this.state.isHeaderVisible=!1):(a<t||a<=e.offsetHeight)&&e.classList.contains("header-hidden")&&(e.classList.remove("header-hidden"),this.state.isHeaderVisible=!0)),t=a,o=r}e=null};window.addEventListener("scroll",(()=>{e||(e=setTimeout(a,16))}),{passive:!0}),window.location.hash&&setTimeout((()=>{var e;const t=document.querySelector(window.location.hash);if(t){const o=(null==(e=this.elements.header)?void 0:e.offsetHeight)||0,a=t.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:a,behavior:"smooth"})}}),100)}setupEventListeners(){var e,t,o;this.elements.mobileMenu.button,null==(e=this.elements.mobileMenu.button)||e.addEventListener("click",(()=>this.toggleMobileMenu())),this.elements.signupForm,null==(t=this.elements.signupForm)||t.addEventListener("submit",(e=>this.handleSignupSubmit(e))),this.elements.feedbackSection.form,this.elements.feedbackSection.buttons.forEach((e=>{e.addEventListener("click",(()=>this.handleFeedbackClick(e)))})),null==(o=this.elements.feedbackSection.form)||o.addEventListener("submit",(e=>this.handleFeedbackSubmit(e))),this.handleScroll=this.debounce(this.handleScroll.bind(this),10),window.addEventListener("scroll",this.handleScroll),this.handleResize=this.debounce(this.handleResize.bind(this),150),window.addEventListener("resize",this.handleResize),document.addEventListener("keydown",(e=>this.handleEscapeKey(e))),document.addEventListener("click",(e=>this.handleClickOutside(e)))}setupIntersectionObserver(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("animated"),e.unobserve(t.target))}))}),{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".animate-on-scroll").forEach((t=>{e.observe(t)}))}setupFormValidation(){if(!this.elements.signupForm)return;this.elements.signupForm.querySelectorAll("input[required]").forEach((e=>{e.addEventListener("input",(()=>this.validateInput(e))),e.addEventListener("blur",(()=>this.validateInput(e)))}))}validateInput(e){const o=e.value.trim();let a=!0,r="";switch(e.type){case"email":a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),r=t.translate("form.email.error");break;case"text":a=o.length>=2,r=t.translate("form.team_name.error")}const n=e.parentElement.querySelector(".error-message");return n&&(n.textContent=a?"":r),e.setAttribute("aria-invalid",!a),a}async handleSignupSubmit(e){e.preventDefault();const t=e.target,o=t.querySelectorAll("input[required]");let a=!0;if(o.forEach((e=>{validateInput(e)||(a=!1)})),!a)return;const r=t.querySelector('button[type="submit"]');r.disabled=!0,r.classList.add("loading");try{const e=new FormData(t),o=Object.fromEntries(e.entries()),a=Date.now(),r=`callback_${a}`,n={...o,timestamp:a,callback:r},s=new URLSearchParams(n).toString(),i=`${c}?${s}`,l=new Promise(((e,t)=>{const o=setTimeout((()=>{t(new Error("Request timed out")),n()}),1e4),a=document.createElement("script");a.src=i,window[r]=t=>{clearTimeout(o),e(t),n()},a.onerror=()=>{clearTimeout(o),t(new Error("Script loading failed")),n()};const n=()=>{delete window[r],a.parentNode&&a.parentNode.removeChild(a)};document.head.appendChild(a)})),d=await l;if(!d.success)throw new Error(d.error||"Failed to submit form");showNotification("success","Form submitted successfully!"),t.reset()}catch(n){showNotification("error","Failed to submit form. Please try again.");try{await fetch(c,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});showNotification("success","Form submitted successfully!"),t.reset()}catch(s){showNotification("error","Failed to submit form. Please try again later.")}}finally{r.disabled=!1,r.classList.remove("loading")}}showNotification(e,t){}handleFeedbackClick(e){if(this.state.hasSubmittedFeedback)return;const t=e.dataset.feedback,o=this.elements.feedbackSection.form;this.submitFeedback({type:t}),o.classList.remove("hidden"),o.querySelector("textarea").focus()}async handleFeedbackSubmit(e){e.preventDefault();const t=e.target.querySelector("textarea").value.trim();if(t)try{await this.submitFeedback({type:button.dataset.feedback||"error",feedback:t})}catch(o){}}async submitFeedback(e){const t=await fetch(c,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.json();if(!o.success)throw new Error(o.error||"Failed to submit feedback");localStorage.setItem("feedbackSubmitted","true"),this.state.hasSubmittedFeedback=!0}toggleMobileMenu(){const{button:e,nav:t}=this.elements.mobileMenu,o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!o),t.classList.toggle("active"),this.state.isMobileMenuOpen=!o,document.body.style.overflow=o?"":"hidden"}handleScroll(){if(!this.elements.header)return void window.removeEventListener("scroll",this.handleScroll);const e=window.pageYOffset;e>this.state.lastScrollPosition&&e>100?this.state.isHeaderVisible&&requestAnimationFrame((()=>{this.elements.header.classList.add("header-hidden"),this.state.isHeaderVisible=!1})):this.state.isHeaderVisible||requestAnimationFrame((()=>{this.elements.header.classList.remove("header-hidden"),this.state.isHeaderVisible=!0})),this.state.lastScrollPosition=e}handleResize(){window.innerWidth>=768&&this.state.isMobileMenuOpen&&this.toggleMobileMenu()}handleEscapeKey(e){"Escape"===e.key&&this.state.isMobileMenuOpen&&this.toggleMobileMenu()}handleClickOutside(e){!this.state.isMobileMenuOpen||this.elements.mobileMenu.nav.contains(e.target)||this.elements.mobileMenu.button.contains(e.target)||this.toggleMobileMenu()}showNotification(e,t){const o=document.createElement("div");o.className=`notification notification-${e}`,o.setAttribute("role","alert"),o.textContent=t,document.body.appendChild(o),setTimeout((()=>{o.classList.add("fade-out"),setTimeout((()=>{document.body.removeChild(o)}),300)}),5e3)}simulateApiCall(e){return new Promise((e=>{setTimeout(e,1e3)}))}debounce(e,t){let o;return function(...a){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...a)}),t)}}};document.addEventListener("DOMContentLoaded",(()=>{d.init()}));
